{"version":3,"sources":["RAF.js","jcc2d.js","loader.js","tween.js"],"names":["lastTime","vendors","x","length","window","requestAnimationFrame","cancelAnimationFrame","callback","currTime","Date","getTime","timeToCall","Math","max","id","setTimeout","clearTimeout","RAF","requestAnimFrame","noop","Matrix","this","a","b","c","d","tx","ty","Animate","MST","MAT","fx","complete","moving","infinity","alternate","repeats","DisplayObject","call","visible","worldAlpha","alpha","scaleX","scaleY","skewX","skewY","rotation","rotationCache","_sr","_cr","y","pivotX","pivotY","mask","parent","worldTransform","Container","JC","cds","Sprite","opts","image","_imageW","width","_imageH","height","regX","regY","_cF","count","sH","sW","loop","repeatF","preTime","now","interval","Graphics","cacheCanvas","Text","text","font","color","Stage","bgColor","canvas","document","getElementById","ctx","getContext","style","backgroundColor","autoClear","DTR","PI","prototype","fromArray","array","toArray","transpose","JC2D","Float32Array","apply","pos","newPos","applyInverse","translate","scale","rotate","angle","cos","sin","a1","c1","tx1","append","matrix","b1","d1","identity","identityMatrix","moveTween","MATR","attr","time","MATRC","i","manager","nextPose","setVal","TWEEN","Object","create","constructor","isVisible","removeMask","vals","undefined","key","updateMe","pt","wt","updateTransform","setTransform","globalAlpha","addChilds","cd","l","arguments","removeChilds","push","splice","updateChilds","render","save","renderMe","renderChilds","restore","getFramePos","obj","row","lintRow","lintCol","mCol","mRow","drawImage","upFS","canFrames","ok","onEnd","goFrames","end","cached","cache","createElement","session","_ctx","clearRect","draw","drawCall","fn","fillStyle","fillText","resize","w","h","console","timeEnd","exports","module","define","amd","ImagesLoad","sprite","OKNum","errNum","totalNum","imagesLoad","This","img","Image","onload","imagesLoaded","onerror","src","getResult","easeBoth","t","extend"],"mappings":"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","file":"../modules/jcc2d.js","sourcesContent":["(function() {\n    var lastTime = 0;\n    var vendors = ['ms', 'moz', 'webkit', 'o'];\n    for(var x = 0; x < vendors.length && !window.requestAnimationFrame; ++x) {\n        window.requestAnimationFrame = window[vendors[x] + 'RequestAnimationFrame'];\n        window.cancelAnimationFrame = window[vendors[x] + 'CancelAnimationFrame'] ||\n            window[vendors[x] + 'CancelRequestAnimationFrame'];\n    }\n\n    if (!window.requestAnimationFrame) {\n        window.requestAnimationFrame = function(callback) {\n            var currTime = new Date().getTime();\n            var timeToCall = Math.max(0, 16 - (currTime - lastTime));\n            var id = window.setTimeout(function() { callback(currTime + timeToCall); },\n              timeToCall);\n            lastTime = currTime + timeToCall;\n            return id;\n        };\n    }\n\n    if (!window.cancelAnimationFrame) {\n        window.cancelAnimationFrame = function(id) {\n            clearTimeout(id);\n        };\n    }\n\n    window.RAF = window.requestAnimFrame = window.requestAnimationFrame;\n})();","(function() {\n\n\twindow.JC = window.JC||{};\n\n\tJC.DTR = Math.PI/180;\n\n\tfunction noop(){}\n\n    function Matrix(){\n        this.a = 1;\n        this.b = 0;\n        this.c = 0;\n        this.d = 1;\n        this.tx = 0;\n        this.ty = 0;\n    }\n    JC.Matrix = Matrix;\n    Matrix.prototype.fromArray = function(array){\n        this.a = array[0];\n        this.b = array[1];\n        this.c = array[3];\n        this.d = array[4];\n        this.tx = array[2];\n        this.ty = array[5];\n    };\n    Matrix.prototype.toArray = function(transpose){\n        if(!this.array) this.array = new JC2D.Float32Array(9);\n        var array = this.array;\n\n        if(transpose){\n            array[0] = this.a;\n            array[1] = this.b;\n            array[2] = 0;\n            array[3] = this.c;\n            array[4] = this.d;\n            array[5] = 0;\n            array[6] = this.tx;\n            array[7] = this.ty;\n            array[8] = 1;\n        }else{\n            array[0] = this.a;\n            array[1] = this.c;\n            array[2] = this.tx;\n            array[3] = this.b;\n            array[4] = this.d;\n            array[5] = this.ty;\n            array[6] = 0;\n            array[7] = 0;\n            array[8] = 1;\n        }\n        return array;\n    };\n    Matrix.prototype.apply = function(pos, newPos){\n        newPos = newPos || {};\n        newPos.x = this.a * pos.x + this.c * pos.y + this.tx;\n        newPos.y = this.b * pos.x + this.d * pos.y + this.ty;\n        return newPos;\n    };\n    Matrix.prototype.applyInverse = function(pos, newPos){\n        var id = 1 / (this.a * this.d + this.c * -this.b);\n        newPos.x = this.d * id * pos.x + -this.c * id * pos.y + (this.ty * this.c - this.tx * this.d) * id;\n        newPos.y = this.a * id * pos.y + -this.b * id * pos.x + (-this.ty * this.a + this.tx * this.b) * id;\n        return newPos;\n    };\n    Matrix.prototype.translate = function(x, y){\n        this.tx += x;\n        this.ty += y;\n        return this;\n    };\n    Matrix.prototype.scale = function(x, y){\n        this.a *= x;\n        this.d *= y;\n        this.c *= x;\n        this.b *= y;\n        this.tx *= x;\n        this.ty *= y;\n        return this;\n    };\n    Matrix.prototype.rotate = function(angle){\n        var cos = Math.cos( angle );\n        var sin = Math.sin( angle );\n        var a1 = this.a;\n        var c1 = this.c;\n        var tx1 = this.tx;\n        this.a = a1 * cos-this.b * sin;\n        this.b = a1 * sin+this.b * cos;\n        this.c = c1 * cos-this.d * sin;\n        this.d = c1 * sin+this.d * cos;\n        this.tx = tx1 * cos - this.ty * sin;\n        this.ty = tx1 * sin + this.ty * cos;\n        return this;\n    };\n    Matrix.prototype.append = function(matrix){\n        var a1 = this.a;\n        var b1 = this.b;\n        var c1 = this.c;\n        var d1 = this.d;\n        this.a  = matrix.a * a1 + matrix.b * c1;\n        this.b  = matrix.a * b1 + matrix.b * d1;\n        this.c  = matrix.c * a1 + matrix.d * c1;\n        this.d  = matrix.c * b1 + matrix.d * d1;\n        this.tx = matrix.tx * a1 + matrix.ty * c1 + this.tx;\n        this.ty = matrix.tx * b1 + matrix.ty * d1 + this.ty;\n        return this;\n    };\n    Matrix.prototype.identity = function(){\n        this.a = 1;\n        this.b = 0;\n        this.c = 0;\n        this.d = 1;\n        this.tx = 0;\n        this.ty = 0;\n        return this;\n    };\n\tJC.identityMatrix = new Matrix();\n\n\tfunction Animate(){\n\t\tthis.MST = 0;\n\t\tthis.MAT = 300;\n\t\tthis.fx = 'easeBoth';\n\t\tthis.complete = noop;\n\t\tthis.moving = false;\n\t\tthis.infinity = false;\n\t\tthis.alternate = false;\n\t\tthis.repeats = 0;\n\t}\n\tAnimate.prototype.moveTween = function(opts){\n\t\tthis.MST = Date.now();\n\t\tthis.MATR = opts.attr||this.MATR;\n\t\tthis.MAT = opts.time||this.MAT;\n\t\tthis.fx = opts.fx||this.fx;\n\t\tthis.complete = opts.complete||this.complete;\n\t\tthis.infinity = opts.infinity||this.infinity;\n\t\tthis.alternate = opts.alternate||this.alternate;\n\t\tthis.repeats = opts.repeats||this.repeats;\n\t\tthis.moving = true;\n\t\tthis.MATRC = {};\n\t\tfor(var i in this.MATR){\n\t\t\tthis.MATRC[i] = this[i];\n\t\t}\n\t};\n\tAnimate.prototype.manager = function(){\n\t\tif(!this.moving)return;\n\t\tvar now = Date.now();\n\t\tif(now < this.MST+this.MAT){\n\t\t\tthis.nextPose();\n\t\t}else{\n\t\t\tthis.setVal(this.MATR);\n\t\t\tif(this.repeats>0||this.infinity){\n\t\t\t\tthis.repeats>0&&--this.repeats;\n\t\t\t\tif(this.alternate){\n\t\t\t\t\tthis.moveTween({attr: this.MATRC});\n\t\t\t\t}else{\n\t\t\t\t\tthis.setVal(this.MATRC);\n\t\t\t\t\tthis.moveTween({attr: this.MATR});\n\t\t\t\t}\n\t\t\t}else{\n\t\t\t\tthis.moving = false;\n\t\t\t\tthis.complete();\n\t\t\t\tif(now>this.MST)this.complete = noop;\n\t\t\t}\n\t\t}\n\t};\n\tAnimate.prototype.nextPose = function(){\n\t\tvar now=Date.now()-this.MST;\n\t\tfor(var i in this.MATR){\n\t\t\tthis[i] = JC.TWEEN[this.fx]( now , this.MATRC[i] , this.MATR[i] - this.MATRC[i] , this.MAT );\n\t\t}\n\t};\n\n\tfunction DisplayObject(){\n    \tAnimate.call( this );\n\t\tthis.visible = true;\n\t\tthis.worldAlpha = 1;\n\t\tthis.alpha = 1;\n\n\t\tthis.scaleX = 1;\n\t\tthis.scaleY = 1;\n\n\t\tthis.skewX = 0;\n\t\tthis.skewY = 0;\n\n\t\tthis.rotation = 0;\n\t\tthis.rotationCache = 0;\n\t    this._sr = 0;\n\t    this._cr = 1;\n\t\t\n\t\tthis.x = 0;\n\t\tthis.y = 0;\n\t\t\n\t\tthis.pivotX = 0;\n\t\tthis.pivotY = 0;\n\n\t\tthis.mask = noop;\n\n    \tthis.parent = null;\n\t\tthis.worldTransform = new Matrix();\n\t}\n    JC.DisplayObject = DisplayObject;\n    DisplayObject.prototype = Object.create( Animate.prototype );\n    DisplayObject.prototype.constructor = JC.DisplayObject;\n\tDisplayObject.prototype.isVisible = function(){\n\t\treturn !!(this.visible && this.alpha>0 && this.scaleX*this.scaleY>0);\n\t};\n\tDisplayObject.prototype.removeMask = function(){\n\t\tthis.mask = noop;\n\t};\n\tDisplayObject.prototype.setVal = function(vals){\n\t\tif(vals===undefined)return;\n\t\tfor(var key in vals){\n\t\t\tif(this[key]===undefined){\n\t\t\t\tcontinue;\n\t\t\t}else{\n\t\t\t\tthis[key] = vals[key];\n\t\t\t}\n\t\t}\n\t};\n\tDisplayObject.prototype.updateMe = function(){\n\t    var pt = this.parent.worldTransform;\n\t    var wt = this.worldTransform;\n\n\t    var a, b, c, d, tx, ty;\n\n\t    if(this.rotation % 360){\n\t        if(this.rotation !== this.rotationCache){\n\t            this.rotationCache = this.rotation;\n\t            this._sr = Math.sin(this.rotation*JC.DTR);\n\t            this._cr = Math.cos(this.rotation*JC.DTR);\n\t        }\n\n\t        a  =  this._cr * this.scaleX;\n\t        b  =  this._sr * this.scaleX;\n\t        c  = -this._sr * this.scaleY;\n\t        d  =  this._cr * this.scaleY;\n\t        tx =  this.x;\n\t        ty =  this.y;\n\n\t        if(this.pivotX || this.pivotY){\n\t            tx -= this.pivotX * a + this.pivotY * c;\n\t            ty -= this.pivotX * b + this.pivotY * d;\n\t        }\n\t        wt.a  = a  * pt.a + b  * pt.c;\n\t        wt.b  = a  * pt.b + b  * pt.d;\n\t        wt.c  = c  * pt.a + d  * pt.c;\n\t        wt.d  = c  * pt.b + d  * pt.d;\n\t        wt.tx = tx * pt.a + ty * pt.c + pt.tx;\n\t        wt.ty = tx * pt.b + ty * pt.d + pt.ty; \n\t    }else{\n\t        a  = this.scaleX;\n\t        d  = this.scaleY;\n\n\t        tx = this.x - this.pivotX * a;\n\t        ty = this.y - this.pivotY * d;\n\n\t        wt.a  = a  * pt.a;\n\t        wt.b  = a  * pt.b;\n\t        wt.c  = d  * pt.c;\n\t        wt.d  = d  * pt.d;\n\t        wt.tx = tx * pt.a + ty * pt.c + pt.tx;\n\t        wt.ty = tx * pt.b + ty * pt.d + pt.ty;\n\t    }\n\t    this.worldAlpha = this.alpha * this.parent.worldAlpha;\n\t};\n\tDisplayObject.prototype.updateTransform = function(){\n\t\tthis.manager();\n\t\tthis.updateMe();\n\t};\n\tDisplayObject.prototype.setTransform = function(ctx){\n\t\tvar matrix = this.worldTransform;\n\t\tctx.globalAlpha = this.worldAlpha;\n\t\tctx.setTransform(matrix.a,matrix.b,matrix.c,matrix.d,matrix.tx,matrix.ty);\n\t};\n\n\n    function Container(){\n    \tJC.DisplayObject.call( this );\n        this.cds = [];\n    }\n    JC.Container = Container;\n    Container.prototype = Object.create( JC.DisplayObject.prototype );\n    Container.prototype.constructor = JC.Container;\n    Container.prototype.addChilds = function (cd){\n        if(cd === undefined)return cd;\n        var l = arguments.length;\n        if(l > 1){\n            for (var i=0; i<l; i++) { this.addChilds(arguments[i]); }\n            return arguments[l-1];\n        }\n        if(cd.parent){ cd.parent.removeChilds(cd); }\n        cd.parent = this;\n        this.cds.push(cd);\n        return cd;\n    };\n    Container.prototype.removeChilds = function (){\n        var l = arguments.length;\n        if(l > 1){\n            for (var i=0; i<l; i++) { this.removeChilds(arguments[i]); }\n        }else if(l===1){\n            for(var a=0;a<this.cds.length;a++){\n                if(this.cds[a]===arguments[0]){\n                    this.cds[a].parent = null;\n                    this.cds.splice(a,1);\n                    a--;\n                }\n            }\n        }\n    };\n    Container.prototype.updateTransform = function (){\n\t\tthis.manager();\n\t\tthis.updateMe();\n\t\tthis.cds.length>0&&this.updateChilds();\n    };\n    Container.prototype.updateChilds = function (){\n        for (var i=0,l=this.cds.length; i<l; i++) {\n            var cd = this.cds[i];\n            cd.updateTransform();\n        }\n    };\n    Container.prototype.render = function (ctx){\n\t\tctx.save();\n\t\tthis.setTransform(ctx);\n\t\tthis.mask(ctx);\n\t\tthis.renderMe(ctx);\n\t\tthis.cds.length>0&&this.renderChilds(ctx);\n\t\tctx.restore();\n    };\n    Container.prototype.renderMe = function (){\n        return true;\n    };\n    Container.prototype.renderChilds = function (ctx){\n        for (var i=0,l=this.cds.length; i<l; i++) {\n            var cd = this.cds[i];\n            if (!cd.isVisible())continue;\n            cd.render(ctx);\n        }\n    };\n\n    function Sprite(opts){\n    \tJC.Container.call( this );\n        this.image = opts.image;\n        this._imageW = this.image.width;\n        this._imageH = this.image.height;\n        this.width = opts.width||this._imageW;\n        this.height = opts.height||this._imageH;\n        this.regX = this.width>>1;\n        this.regY = this.height>>1;\n        this._cF = 0;\n        this.count = opts.count||1;\n        this.sH = opts.sH||0;\n        this.sW = opts.sW||0;\n        this.loop = false;\n        this.repeatF = 0;\n        this.preTime = Date.now();\n        this.interval = 60;\n    }\n    JC.Sprite = Sprite;\n    Sprite.prototype = Object.create( JC.Container.prototype );\n    Sprite.prototype.constructor = JC.Sprite;\n    Sprite.prototype.getFramePos = function(){\n        var obj = {\n                x: this.sW,\n                y: this.sH\n            };\n        if(this._cF>0){\n            var row = this._imageW/this.width >> 0;\n            var lintRow = this.sW/this.width >> 0;\n            var lintCol = this.sH/this.height >> 0;\n            var mCol = lintCol+(lintRow+this._cF)/row >> 0;\n            var mRow = (lintRow+this._cF)%row;\n            obj.x = mRow*this.width;\n            obj.y = mCol*this.height;\n        }\n        return obj;\n    };\n    Sprite.prototype.renderMe = function (ctx){\n        var obj = this.getFramePos();\n        ctx.drawImage(this.image, obj.x, obj.y, this.width, this.height, -this.regX, -this.regY, this.width, this.height);\n        this.upFS();\n    };\n    Sprite.prototype.upFS = function (){\n        if(!this.canFrames)return;\n        var time = Date.now(),\n            ok = time-this.preTime>this.interval;\n        if(ok){\n            this._cF++;\n            this.preTime = time;\n        }\n        if(this._cF>=this.count){\n            if(this.repeatF<=0&&!this.loop){\n                this.canFrames = false;\n                this.onEnd();\n            }\n            this._cF = 0;\n            if(!this.loop)this.repeatF--;\n        }\n    };\n    Sprite.prototype.goFrames = function (opts){\n        if(this.count<=1)return;\n        this.canFrames = true;\n        this.loop = opts.loop||false;\n        this.repeatF = opts.repeatF||0;\n        this.onEnd = opts.end||noop;\n        this.preTime = Date.now();\n        this._cF = 0;\n    };\n\n    /** TODO: drawTriangles a mesh frame \n\t *  can have perspective effect\n\t *\n\t *\n     */\n\tfunction Strip(){}\n\n\n\n\tfunction Graphics(){\n    \tJC.Container.call( this );\n    \tthis.cacheCanvas = null;\n\t}\n\tJC.Graphics = Graphics;\n\tGraphics.prototype = Object.create( JC.Container.prototype );\n\tGraphics.prototype.constructor = JC.Graphics;\n    Graphics.prototype.renderMe = function (ctx){\n    \tif(this.cached||this.cache){\n    \t\tif(this.cache){\n    \t\t\tthis.cacheCanvas = this.cacheCanvas||document.createElement('canvas');\n    \t\t\tthis.width = this.cacheCanvas.width = this.session.width;\n    \t\t\tthis.height = this.cacheCanvas.height = this.session.height;\n    \t\t\tthis._ctx = this.cacheCanvas.getContext(\"2d\");\n    \t\t\tthis._ctx.clearRect(0,0,this.width,this.height);\n\t        \tthis.draw(this._ctx);\n\t        \tthis.cached = true;\n\t        \tthis.cache = false;\n    \t\t}\n    \t\tthis.cacheCanvas&&ctx.drawImage(this.cacheCanvas, 0, 0, this.width, this.height, 0, 0, this.width, this.height);\n    \t}else{\n\t        this.draw(ctx);\n    \t}\n    };\n\tGraphics.prototype.drawCall = function(fn,opts){\n\t\tif(typeof fn !=='function')return;\n        opts = opts||{};\n\t\tthis.cache = opts.cache||false;\n\t\tthis.cached = false;\n\t\tthis.session = opts.session||{width:100,height:100};\n\t\tthis.draw = fn||noop;\n\t};\n\n\n\n\tfunction Text(text,font,color){\n    \tJC.Container.call( this );\n\t\tthis.text = text;\n\t\tthis.font = font;\n\t\tthis.color = color;\n\t}\n\tJC.Text = Text;\n\tText.prototype = Object.create( JC.Container.prototype );\n\tText.prototype.constructor = JC.Text;\n\tText.prototype.renderMe = function(ctx){\n\t\tctx.fillStyle = this.color;\n\t\tctx.font=this.font;\n\t\tctx.fillText(this.text,0,0);\n\t};\n\n\n\n    function Stage(id,bgColor){\n    \tJC.Container.call( this );\n        this.canvas = document.getElementById(id);\n        this.ctx = this.canvas.getContext('2d');\n        this.cds = [];\n        this.canvas.style.backgroundColor = bgColor || \"transparent\";\n        this.autoClear = true;\n        this.width = this.canvas.width;\n        this.height = this.canvas.height;\n\n\n    }\n    JC.Stage = Stage;\n    Stage.prototype = Object.create( JC.Container.prototype );\n    Stage.prototype.constructor = JC.Stage;\n    Stage.prototype.resize = function (w,h){\n        this.width = this.canvas.width = w;\n        this.height = this.canvas.height = h;\n    };\n    Stage.prototype.render = function (){\n        console.time('transform');\n        this.updateChilds();\n        console.timeEnd('transform');\n        console.time('render');\n        this.renderChilds();\n        console.timeEnd('render');\n    };\n    Stage.prototype.renderChilds = function (){\n    \tthis.ctx.setTransform(1,0,0,1,0,0);\n        if(this.autoClear)this.ctx.clearRect(0,0,this.width,this.height);\n        \n        for (var i=0,l=this.cds.length; i<l; i++) {\n            var cd = this.cds[i];\n            if (!cd.isVisible())continue;\n            cd.render(this.ctx);\n        }\n    };\n\n\n\tif (typeof exports !== 'undefined') {\n\t    if (typeof module !== 'undefined' && module.exports) {\n\t        exports = module.exports = JC;\n\t    }\n\t    exports.JC = JC;\n\t} else if (typeof define !== 'undefined' && define.amd) {\n\t    define(JC);\n\t}\n\n})();","(function(){\n\twindow.JC = window.JC||{};\n\tfunction ImagesLoad(opts){\n\t\tthis.sprite = {};\n\t\tthis.OKNum = 0;\n\t\tthis.errNum = 0;\n\t\tthis.totalNum = 0;\n\t\tthis.imagesLoad(opts);\n\t}\n\tImagesLoad.prototype.imagesLoad = function (opts){\n\t\tvar This = this;\n\t\tfor(var img in opts){\n\t\t\tthis.sprite[img] = new Image();\n\t\t\tthis.totalNum++;\n\t\t\tthis.sprite[img].onload = function (){\n\t\t\t\tThis.OKNum++;\n\t\t\t\tif(This.OKNum>=This.totalNum){\n\t\t\t\t\tThis.imagesLoaded();\n\t\t\t\t}\n\t\t\t};\n\t\t\tthis.sprite[img].onerror = function (){\n\t\t\t\tThis.errNum++;\n\t\t\t};\n\t\t\tthis.sprite[img].src = opts[img];\n\t\t}\n\t};\n\tImagesLoad.prototype.imagesLoaded = null;\n\tImagesLoad.prototype.getResult = function (id){\n\t\treturn this.sprite[id];\n\t};\n\tJC.ImagesLoad = ImagesLoad;\n\t/* 结束 纹理预加载 */\n})();","(function() {\n\n\twindow.JC = window.JC||{};\n\n\tJC.TWEEN = {\n\t\teaseBoth: function(t, b, c, d){  //加速减速曲线\n\t\t\tif ((t/=d/2) < 1) {\n\t\t\t\treturn c/2*t*t + b;\n\t\t\t}\n\t\t\treturn -c/2 * ((--t)*(t-2) - 1) + b;\n\t\t},\n\t\textend: function(opts){\n\t\t\tif(!opts)return;\n\t\t\tfor(var key in opts){\n\t\t\t\tif(key!=='extend'&&opts[key])this[key]=opts[key];\n\t\t\t}\n\t\t}\n\t};\n\n})();"]}